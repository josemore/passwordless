(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(27)},19:function(e,n,t){},2:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"a",function(){return c}),t.d(n,"c",function(){return u});t(21);function r(e){return(new TextDecoder).decode(e)}var a=function(){var e=new ArrayBuffer(2),n=new Uint8Array(e),t=new Uint16Array(e);return n[0]=170,n[1]=187,48042===t[0]?"little":"big"},i=function(e){if(2!==e.length)throw new Error("Only 2byte buffer allowed!");return"big"!==a()&&(e=e.reverse()),new Uint16Array(e.buffer)[0]},o=function(e){if(4!==e.length)throw new Error("Only 4byte buffers allowed!");return"big"!==a()&&(e=e.reverse()),new Uint32Array(e.buffer)[0]};function c(e){return Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("")}function u(e){var n=e.slice(0,32),t=(e=e.slice(32)).slice(0,1);e=e.slice(1);var r=t[0],a={up:!!(1&r),uv:!!(4&r),at:!!(64&r),ed:!!(128&r),flagsInt:r},c=e.slice(0,4);e=e.slice(4);var u=o(c),l=void 0,s=void 0,f=void 0;if(a.at){l=e.slice(0,16);var _=(e=e.slice(16)).slice(0,2);e=e.slice(2);var d=i(_);s=e.slice(0,d),f=e=e.slice(d)}return{rpIdHash:n,flagsBuf:t,flags:a,counter:u,counterBuf:c,aaguid:l,credID:s,COSEPublicKey:f}}},20:function(e,n,t){},27:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(8),o=t.n(i),c=(t(19),t(9)),u=t(10),l=t(12),s=t(11),f=t(13),_=t(1),d=(t(20),t(3)),h=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(l.a)(this,Object(s.a)(n).call(this,e))).state={email:""},t.handleSubmit=t.handleSubmit.bind(Object(_.a)(Object(_.a)(t))),t.handleInputChange=t.handleInputChange.bind(Object(_.a)(Object(_.a)(t))),t.onRegister=t.onRegister.bind(Object(_.a)(Object(_.a)(t))),t.onLogin=t.onLogin.bind(Object(_.a)(Object(_.a)(t))),t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentWillMount",value:function(){}},{key:"handleInputChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("Submit")}},{key:"onRegister",value:function(e){alert("Registration completed. Please login"),Object(d.b)()}},{key:"onLogin",value:function(e){console.log("Login"),Object(d.a)()}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("p",null,"Password-less Auth Demo")),a.a.createElement("div",null,a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("label",null,"Email:"),a.a.createElement("input",{type:"text",name:"email",onChange:this.handleInputChange}),a.a.createElement("button",{type:"submit",onClick:this.onRegister},"Register"),a.a.createElement("button",{type:"button",onClick:this.onLogin},"Login"))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return makeCredential}),__webpack_require__.d(__webpack_exports__,"a",function(){return getAssertion});var _helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_cbor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_cbor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_cbor__WEBPACK_IMPORTED_MODULE_1__);function storeCredential(){var passwordcred=eval("new PasswordCredential({\n      'type': 'password',\n      'id': 'alice',\n      'password': 'VeryRandomPassword123456'\n  })");navigator.credentials.store(passwordcred)}function getCredential(){navigator.credentials.get({password:!0}).then(function(e){if(!e)throw new Error("No credential found");console.log(e)})}function makeCredential(){var e=this;return new Promise(function(n,t){var r=new Uint8Array(32);window.crypto.getRandomValues(r);var a=e.state.email,i={challenge:r,rp:{name:"Example Inc."},user:{id:Uint8Array.from(window.atob(a),function(e){return e.charCodeAt(0)}),name:e.state.email,displayName:"John Doe"},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}]};navigator.credentials.create({publicKey:i}).then(function(e){console.log("SUCCESS",e),console.log("ClientDataJSON: ",Object(_helpers__WEBPACK_IMPORTED_MODULE_0__.b)(e.response.clientDataJSON));var t=_cbor__WEBPACK_IMPORTED_MODULE_1___default.a.decode(e.response.attestationObject);console.log("AttestationObject: ",t);var r=Object(_helpers__WEBPACK_IMPORTED_MODULE_0__.c)(t.authData);console.log("AuthData: ",r),console.log("CredID: ",Object(_helpers__WEBPACK_IMPORTED_MODULE_0__.a)(r.credID)),console.log("AAGUID: ",Object(_helpers__WEBPACK_IMPORTED_MODULE_0__.a)(r.aaguid)),console.log("PublicKey",_cbor__WEBPACK_IMPORTED_MODULE_1___default.a.decode(r.COSEPublicKey.buffer)),n(r.credID)}).catch(function(e){console.log("FAIL",e)})})}function getAssertion(){this.makeCredential().then(function(e){console.log("CREDENTIAL ID"),console.log(e);var n=new Uint8Array(32);window.crypto.getRandomValues(n);var t={challenge:n,allowCredentials:[{type:"public-key",id:e}]};navigator.credentials.get({publicKey:t}).then(function(e){alert("SUCCESSFULLY GOT AN ASSERTION! Open your browser console!"),console.log("SUCCESSFULLY GOT AN ASSERTION!",e)}).catch(function(e){alert("Open your browser console!"),console.log("FAIL",e)})})}},4:function(e,n,t){!function(n,t){"use strict";var r=5.960464477539063e-8,a=4294967296,i=9007199254740992;var o={encode:function(e){var n,r=new ArrayBuffer(256),o=new DataView(r),c=0;function u(e){for(var t=r.byteLength,a=c+e;t<a;)t<<=1;if(t!==r.byteLength){var i=o;r=new ArrayBuffer(t),o=new DataView(r);for(var u=c+3>>2,l=0;l<u;++l)o.setUint32(l<<2,i.getUint32(l<<2))}return n=e,o}function l(){c+=n}function s(e){l(u(1).setUint8(c,e))}function f(e){for(var n=u(e.length),t=0;t<e.length;++t)n.setUint8(c+t,e[t]);l()}function _(e,n){var t;n<24?s(e<<5|n):n<256?(s(e<<5|24),s(n)):n<65536?(s(e<<5|25),t=n,l(u(2).setUint16(c,t))):n<4294967296?(s(e<<5|26),function(e){l(u(4).setUint32(c,e))}(n)):(s(e<<5|27),function(e){var n=e%a,t=(e-n)/a,r=u(8);r.setUint32(c,t),r.setUint32(c+4,n),l()}(n))}if(function e(n){var r;if(!1===n)return s(244);if(!0===n)return s(245);if(null===n)return s(246);if(n===t)return s(247);switch(typeof n){case"number":if(Math.floor(n)===n){if(0<=n&&n<=i)return _(0,n);if(-i<=n&&n<0)return _(1,-(n+1))}return s(251),function(e){l(u(8).setFloat64(c,e))}(n);case"string":var a=[];for(r=0;r<n.length;++r){var o=n.charCodeAt(r);o<128?a.push(o):o<2048?(a.push(192|o>>6),a.push(128|63&o)):o<55296?(a.push(224|o>>12),a.push(128|o>>6&63),a.push(128|63&o)):(o=(1023&o)<<10,o|=1023&n.charCodeAt(++r),o+=65536,a.push(240|o>>18),a.push(128|o>>12&63),a.push(128|o>>6&63),a.push(128|63&o))}return _(3,a.length),f(a);default:var d;if(Array.isArray(n))for(_(4,d=n.length),r=0;r<d;++r)e(n[r]);else if(n instanceof Uint8Array)_(2,n.length),f(n);else{var h=Object.keys(n);for(_(5,d=h.length),r=0;r<d;++r){var g=h[r];e(g),e(n[g])}}}}(e),"slice"in r)return r.slice(0,c);for(var d=new ArrayBuffer(c),h=new DataView(d),g=0;g<c;++g)h.setUint8(g,o.getUint8(g));return d},decode:function(e,n,i){var o=new DataView(e),c=0;function u(e,n){return c+=e,n}function l(n){return u(n,new Uint8Array(e,c,n))}function s(){return u(1,o.getUint8(c))}function f(){return u(2,o.getUint16(c))}function _(){return u(4,o.getUint32(c))}function d(){return 255===o.getUint8(c)&&(c+=1,!0)}function h(e){if(e<24)return e;if(24===e)return s();if(25===e)return f();if(26===e)return _();if(27===e)return _()*a+_();if(31===e)return-1;throw"Invalid length encoding"}function g(e){var n=s();if(255===n)return-1;var t=h(31&n);if(t<0||n>>5!==e)throw"Invalid indefinite length element";return t}function p(e,n){for(var t=0;t<n;++t){var r=s();128&r&&(r<224?(r=(31&r)<<6|63&s(),n-=1):r<240?(r=(15&r)<<12|(63&s())<<6|63&s(),n-=2):(r=(15&r)<<18|(63&s())<<12|(63&s())<<6|63&s(),n-=3)),r<65536?e.push(r):(r-=65536,e.push(55296|r>>10),e.push(56320|1023&r))}}"function"!==typeof n&&(n=function(e){return e}),"function"!==typeof i&&(i=function(){return t});var b=function e(){var a,_,b=s(),w=b>>5,v=31&b;if(7===w)switch(v){case 25:return function(){var e=new ArrayBuffer(4),n=new DataView(e),t=f(),a=32768&t,i=31744&t,o=1023&t;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!==o)return(a?-1:1)*o*r;return n.setUint32(0,a<<16|i<<13|o<<13),n.getFloat32(0)}();case 26:return u(4,o.getFloat32(c));case 27:return u(8,o.getFloat64(c))}if((_=h(v))<0&&(w<2||6<w))throw"Invalid length";switch(w){case 0:return _;case 1:return-1-_;case 2:if(_<0){for(var y=[],m=0;(_=g(w))>=0;)m+=_,y.push(l(_));var O=new Uint8Array(m),E=0;for(a=0;a<y.length;++a)O.set(y[a],E),E+=y[a].length;return O}return l(_);case 3:var A=[];if(_<0)for(;(_=g(w))>=0;)p(A,_);else p(A,_);return String.fromCharCode.apply(null,A);case 4:var C;if(_<0)for(C=[];!d();)C.push(e());else for(C=new Array(_),a=0;a<_;++a)C[a]=e();return C;case 5:var U={};for(a=0;a<_||_<0&&!d();++a)U[e()]=e();return U;case 6:return n(e(),_);case 7:switch(_){case 20:return!1;case 21:return!0;case 22:return null;case 23:return t;default:return i(_)}}}();if(c!==e.byteLength)throw"Remaining bytes";return b}};e.exports?e.exports=o:n.CBOR||(n.CBOR=o)}(this)}},[[14,1,2]]]);
//# sourceMappingURL=main.13d7f892.chunk.js.map